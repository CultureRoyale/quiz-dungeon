<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<body>
    <div th:fragment="userHpBar(user)"
        class="bg-gray-800 border-2 border-gray-600 rounded-lg p-3 font-dungeon text-white shadow-lg select-none w-full max-w-3xl mx-auto">
        <!-- Top Row -->
        <div class="flex justify-between items-end mb-1 px-1">
            <!-- Username & Level -->
            <div class="text-2xl tracking-wide drop-shadow-md flex items-baseline gap-2">
                <span th:text="${user.username}">User123</span>
                <span th:text="'Lvl ' + ${user.level}" class="text-gray-400 text-lg">Lvl 1</span>
            </div>
            <!-- Gold -->
            <div class="flex items-center gap-1 mb-1">
                <span th:text="${user.gold}" class="text-[#F1B32B] text-2xl drop-shadow-md">500</span>
                <img th:src="@{/images/gold.svg}" alt="Gold" class="w-6 h-6">
            </div>
        </div>

        <!-- HP Bar Container -->
        <div class="relative w-full mt-4 mb-2">
            <!-- HP Text (Overlay) -->
            <div class="absolute left-0 right-0 bottom-6 flex justify-center z-20 pointer-events-none">
                <span
                    class="text-xl leading-none drop-shadow-[0_2px_0_rgba(0,0,0,1)] stroke-black text-white font-dungeon tracking-wider"
                    style="-webkit-text-stroke: 1.5px black; paint-order: stroke fill;"
                    th:text="'Hp : ' + ${user.currentHp} + '/' + ${user.maxHp}">Hp : 50/80</span>
            </div>

            <!-- Bar -->
            <div class="relative w-full h-8 bg-gray-900 rounded border-2 border-black overflow-hidden z-10">
                <!-- Progress Bar -->
                <div class="h-full transition-all duration-500 ease-out"
                    th:style="'width: ' + (${user.maxHp} > 0 ? (${user.currentHp} * 100.0 / ${user.maxHp}) : 0) + '%; background: linear-gradient(to bottom, #4ade80 50%, #166534 50%);'">
                </div>

                <!-- Atk Display (Inside right) -->
                <div class="absolute right-2 top-1/2 -translate-y-1/2 z-20 pointer-events-none">
                    <span
                        class="text-xl leading-none drop-shadow-[0_2px_0_rgba(0,0,0,1)] stroke-black text-white font-dungeon tracking-wider"
                        style="-webkit-text-stroke: 1.5px black; paint-order: stroke fill;"
                        th:text="'Atk: ' + ${user.attack}">Atk:
                        5</span>
                </div>
            </div>
        </div>
    </div>
</body>

</html>