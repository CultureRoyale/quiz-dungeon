<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<body>
    <div th:fragment="userHpBar(user)"
        class="bg-gray-800 border-2 border-gray-600 rounded-lg p-3 font-dungeon text-white shadow-lg select-none w-full max-w-2xl mx-auto">
        <!-- Top Row -->
        <div class="flex justify-between items-end mb-1 px-1">
            <!-- Username & Level -->
            <div class="text-2xl tracking-wide drop-shadow-md flex items-baseline gap-2">
                <span th:text="${user.username}">User123</span>
                <span th:text="'Lvl ' + ${user.level}" class="text-gray-400 text-lg">Lvl 1</span>
            </div>
            <!-- Gold -->
            <div class="flex items-center gap-1 mb-1">
                <span th:text="${user.gold}" class="text-[#F1B32B] text-2xl drop-shadow-md">500</span>
                <img th:src="@{/images/gold.svg}" alt="Gold" class="w-6 h-6">
            </div>
        </div>

        <!-- HP Bar Container -->
        <div class="relative w-full h-10 bg-gray-900 rounded border-2 border-gray-700 overflow-hidden">
            <!-- HP Text (Overlay) -->
            <div class="absolute inset-0 flex items-center justify-between px-3 z-10 pointer-events-none">
                <span class="text-xl leading-none drop-shadow-[0_2px_2px_rgba(0,0,0,0.8)] stroke-black"
                    style="-webkit-text-stroke: 1px black;"
                    th:text="'Hp: ' + ${user.currentHp} + '/' + ${user.maxHp}">Hp: 50/80</span>

                <!-- XP Display (Optional addition based on prompt mentioning XP) -->
                <span class="text-sm text-gray-300 drop-shadow-md" th:if="${user.xp > 0}"
                    th:text="'XP: ' + ${user.xp}">XP: 100</span>
            </div>

            <!-- Progress Bar -->
            <div class="h-full bg-[#4ade80] transition-all duration-500 ease-out"
                th:style="'width: ' + (${user.maxHp} > 0 ? (${user.currentHp} * 100.0 / ${user.maxHp}) : 0) + '%'">
            </div>
        </div>
    </div>
</body>

</html>